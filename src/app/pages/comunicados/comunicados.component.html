<div class="container-comunicados container py-5">

    <app-loader [cargando]="cargando"></app-loader>

    <div class="text-center m-auto w-50">
        <h1 class="mt-0 fs-2">COMUNICADOS</h1>
        <hr class="divider" />
        <p class="text-muted fs-5 mb-5">Aqui iremos publicando los comunicados relacionados con nuestra aplicación!</p>
    </div>

    <ul class="text-center row gx-5" *ngIf="mensajes.length; else sinMensajes">
        <li class="text-center col col-12 col-md-6 mb-5" *ngFor="let mensaje of mensajes">
            <a class="text-white">
                <button *ngIf="isAdmin" class="btn btn-danger btn-sm float-end me-2 mt-2" data-bs-toggle="modal" data-bs-target="#modalDelete" (click)="delete(mensaje.id)"><i class="bi bi-trash-fill"></i> Borrar</button>
                <h2 class="text-capitalize">{{mensaje.usuario.username}}</h2>
                <p class="text-break px-2 overflow-hidden">{{mensaje.mensaje}}</p>
                <small>{{mensaje.fecha | date:"dd/MM/yy"}}</small>
            </a>
        </li>
    </ul>
</div>

<div class="modal fade" id="modalDelete" tabindex="-1" aria-labelledby="modalDelete" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">¿Quieres borrar el comunicado?</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" #closebutton></button>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-danger" (click)="deleteComunicado()">Borrar</button>
            </div>
        </div>
    </div>
</div>

<ng-template #sinMensajes>
    <div class="text-center">
        <h1 class="text-center">No se ha publicado ningún comunicado</h1>
        <hr class="divider mb-5" />
        <img class="margin: auto; w-50" src="assets/img/comunicados/sinComunicados.svg" alt="Sin reservas" />
    </div>
</ng-template>